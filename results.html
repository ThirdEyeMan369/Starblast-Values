<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>Starblast Values Results</title>
<link rel="icon" type="x-icon" href="icon.png">
<link rel="shortcut icon" type="x-icon" href="icon.png">
<meta charset="utf-8">
<script>
  version = "Version 1.0" //Remember to update this before making changes to the test itself!
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<h1>Starblast Values</h1>
<hr>

<h1>Results</h1>

<h2>Gameplay Axis: <span class="weight-300" id="gapl-label"></span></h2>
<div class="axis">
    <img id="img-miner" src="Icons/miner.svg" height="128pt"/>
    <div class="bar miner" id="bar-miner"><div class="text-wrapper" id="miner"></div></div>
    <div class="bar fighter" id="bar-fighter"><div class="text-wrapper" id="fighter"></div></div>
    <img id="img-fighter" src="Icons/fighter.svg" height="128pt"/>
</div>
<h2>Player Type Axis: <span class="weight-300" id="plty-label"></span></h2>
<div class="axis">
    <img id="img-teamer" src="Icons/teamer.svg" height="128pt"/>
    <div class="bar teamer" id="bar-teamer"><div class="text-wrapper" id="teamer"></div></div>
    <div class="bar soloist" id="bar-soloist"><div class="text-wrapper" id="soloist"></div></div>
    <img id="img-soloist" src="Icons/soloist.svg" height="128pt"/>
</div>
<h2>Modes Axis: <span class="weight-300" id="mode-label"></span></h2>
<div class="axis">
    <img id="img-vanilla" src="Icons/vanilla.svg" height="128pt"/>
    <div class="bar vanilla" id="bar-vanilla"><div class="text-wrapper" id="vanilla"></div></div>
    <div class="bar modding" id="bar-modding"><div class="text-wrapper" id="modding"></div></div>
    <img id="img-modding" src="Icons/modding.svg" height="128pt"/>
</div>
<h2>Thought Process Axis: <span class="weight-300" id="thpr-label"></span></h2>
<div class="axis">
    <img id="img-strategist" src="Icons/strategist.svg" height="128pt"/>
    <div class="bar strategist" id="bar-strategist"><div class="text-wrapper" id="strategist"></div></div>
    <div class="bar impulse" id="bar-impulse"><div class="text-wrapper" id="impulse"></div></div>
    <img id="img-impulse" src="Icons/impulse.svg" height="128pt"/>
</div>
<h2>Ship Type Axis: <span class="weight-300" id="shty-label"></span></h2>
<div class="axis">
    <img id="img-tank" src="Icons/tank.svg" height="128pt"/>
    <div class="bar tank" id="bar-tank"><div class="text-wrapper" id="tank"></div></div>
    <div class="bar mobile" id="bar-mobile"><div class="text-wrapper" id="mobile"></div></div>
    <img id="img-mobile" src="Icons/mobile.svg" height="128pt"/>
</div>
<h2>Ethics Axis: <span class="weight-300" id="ethi-label"></span></h2>
<div class="axis">
    <img id="img-ethical" src="Icons/ethical.svg" height="128pt"/>
    <div class="bar ethical" id="bar-ethical"><div class="text-wrapper" id="ethical"></div></div>
    <div class="bar unlawful" id="bar-unlawful"><div class="text-wrapper" id="unlawful"></div></div>
    <img id="img-unlawful" src="Icons/unlawful.svg" height="128pt"/>
</div>
<h2>Closest Match: <span class="weight-300" id="ideology-label"></span></h2>
<p>You can send these results by copying and pasting the URL at the top of the page or using the image below. Have ideas? Want to help improve the test? You can contact me on Discord at ThirdEyeMan#7517.</p>
<hr/>
<canvas id="banner" width=800 height=1000 style="font-family:Montserrat"></canvas>
<button class="button" onclick="location.href='index.html';" style="background-color: #2196f3;">Back</button> <br>
<!-- Website visit statistics - no personal information is collected! -->
<script type="text/javascript">
var sc_project=11325211;
var sc_invisible=1;
var sc_security="fd9f0659";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web stats"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11325211/0/fd9f0659/1/" alt="web
stats"></a></div></noscript>
<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    gaplArray = ["Minaholic","Miner","Contributor","Neutral","Combative","Fighter","Duelist"]
    pltyArray = ["Hivemind","Wolfpack","Teamer","Casual Player","Independent","Solosist","Isolated"]
    modeArray = ["Chocolate Denier","Conservative","Simplified","Centered","Complex","Progressional","Starblast 2"]
    thprArray = ["Mastermind","Strategist","Thinker","Casual Player","Rusher","Quick Thinker","Rampager"]
    shtyArray = ["Tankman","Barricade","Shield","Ship Enjoyer","Sprinter","Speedartist","Lightning"]  
    ethiArray = ["Angel","Good Hearted","Caring","No Feeling","Troll","Joker","Devil"]	
	
    function setLabel(val,ary) {
        if (val > 100) { return "" } else
        if (val > 90) { return ary[0] } else
        if (val > 75) { return ary[1] } else
        if (val > 60) { return ary[2] } else
        if (val >= 40) { return ary[3] } else
        if (val >= 25) { return ary[4] } else
        if (val >= 10) { return ary[5] } else
        if (val >= 0) { return ary[6] } else
        	{return ""}
    }

    fighter  = getQueryVariable("g")
    soloist     = getQueryVariable("p")
    modding   = getQueryVariable("m")
    impulse  = getQueryVariable("t")
    mobile = getQueryVariable("s")
    unlawful = getQueryVariable("e")	
    miner    = (100 - fighter).toFixed(1)
    teamer     = (100 - soloist).toFixed(1)
    vanilla = (100 - modding).toFixed(1)
    strategist = (100 - impulse).toFixed(1)
    tank = (100 - mobile).toFixed(1)
    ethical = (100 - unlawful).toFixed(1)	

    setBarValue("miner", miner)
    setBarValue("fighter", fighter)
    setBarValue("teamer", teamer)
    setBarValue("soloist", soloist)
    setBarValue("vanilla", vanilla)
    setBarValue("modding", modding)
    setBarValue("strategist", strategist)
    setBarValue("impulse", impulse)
    setBarValue("tank", tank)
    setBarValue("mobile", mobile)
    setBarValue("ethical", ethical)
    setBarValue("unlawful", unlawful)	 
	
    document.getElementById("gapl-label").innerHTML = setLabel(miner, gaplArray)
    document.getElementById("plty-label").innerHTML = setLabel(teamer, pltyArray)
    document.getElementById("mode-label").innerHTML = setLabel(vanilla, modeArray)
    document.getElementById("thpr-label").innerHTML = setLabel(strategist, thprArray)
    document.getElementById("shty-label").innerHTML = setLabel(tank, shtyArray)
    document.getElementById("ethi-label").innerHTML = setLabel(ethical, ethiArray)	

    ideology = ""
    ideodist = Infinity
    for (var i = 0; i < ideologies.length; i++) {
        dist = 0
        dist += Math.pow(Math.abs(ideologies[i].stats.gapl - miner), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.plty - vanilla), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.mode - teamer), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.thpr - strategist), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.shty - tank), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.ethi - ethical), 2)
        if (dist < ideodist) {
            ideology = ideologies[i].name
            ideodist = dist
	}
    }
    document.getElementById("ideology-label").innerHTML = ideology

    function createImage(src, x, y, w, h) {
        img = new Image ()
        img.src = src
        img.onLoad = function() {
            ctx.drawImage(img, x, y, w, h)
        }
    }

   window.onload = function() {
        var c = document.getElementById('banner')
        var ctx = c.getContext("2d")
        ctx.fillStyle = "#0e1d25"
        ctx.fillRect(0,0,800,1000);

        img = document.getElementById("img-miner")
        ctx.drawImage(img, 20, 270, 100, 100);
        img = document.getElementById("img-fighter")
        ctx.drawImage(img, 680, 270, 100, 100)
        img = document.getElementById("img-teamer")
        ctx.drawImage(img, 20, 390, 100, 100)
        img = document.getElementById("img-soloist")
        ctx.drawImage(img, 680, 390, 100, 100)
        img = document.getElementById("img-vanilla")
        ctx.drawImage(img, 20, 510, 100, 100)
        img = document.getElementById("img-modding")
        ctx.drawImage(img, 680, 510, 100, 100)
        img = document.getElementById("img-strategist")
        ctx.drawImage(img, 20, 630, 100, 100)
        img = document.getElementById("img-impulse")
        ctx.drawImage(img, 680, 630, 100, 100)
        img = document.getElementById("img-tank")
        ctx.drawImage(img, 20, 750, 100, 100)
	img = document.getElementById("img-mobile")
        ctx.drawImage(img, 680, 750, 100, 100)
	img = document.getElementById("img-ethical")
        ctx.drawImage(img, 20, 870, 100, 100)
	img = document.getElementById("img-unlawful")
        ctx.drawImage(img, 680, 870, 100, 100)
	    
        ctx.fillStyle="#222222"
        ctx.fillRect(120, 280, 560, 80)
        ctx.fillRect(120, 400, 560, 80)
        ctx.fillRect(120, 520, 560, 80)
        ctx.fillRect(120, 640, 560, 80)
        ctx.fillRect(120, 760, 560, 80)
	ctx.fillRect(120, 880, 560, 80)    
        ctx.fillStyle="#fde100"
        ctx.fillRect(120, 284, 5.6*miner-2, 72)
        ctx.fillStyle="#f54036"
        ctx.fillRect(682-5.6*fighter, 284, 5.6*fighter-2, 72)
        ctx.fillStyle="#4f76ff"
        ctx.fillRect(120, 404, 5.6*teamer-2, 72)
        ctx.fillStyle="#8d1cfe"
        ctx.fillRect(682-5.6*soloist, 404, 5.6*soloist-2, 72)
        ctx.fillStyle="#f48e42"
        ctx.fillRect(120, 524, 5.6*vanilla-2, 72)
        ctx.fillStyle="#67d417"
        ctx.fillRect(682-5.6*modding, 524, 5.6*modding-2, 72)
        ctx.fillStyle="#fd8fe0"
        ctx.fillRect(120, 644, 5.6*strategist-2, 72)
        ctx.fillStyle="#7dffff"
        ctx.fillRect(682-5.6*impulse, 644, 5.6*impulse-2, 72)
	ctx.fillStyle="#afafaf"
        ctx.fillRect(120, 764, 5.6*tank-2, 72)
        ctx.fillStyle="#bfff50"
        ctx.fillRect(682-5.6*mobile, 764, 5.6*mobile-2, 72)
	ctx.fillStyle="#00867b"
        ctx.fillRect(120, 884, 5.6*ethical-2, 72)
        ctx.fillStyle="#640000"
        ctx.fillRect(682-5.6*unlawful, 884, 5.6*unlawful-2, 72)    
        ctx.fillStyle="#eeeeee"
        ctx.font="700 80px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("Starblast Values", 20, 90)
        ctx.font="50px Montserrat"
        ctx.fillText(ideology, 20, 190)

        ctx.textAlign="left"
        if (miner      > 30) {ctx.fillText(miner + "%", 130, 337.5)}
        if (teamer     > 30) {ctx.fillText(teamer + "%", 130, 457.5)}
        if (vanilla    > 30) {ctx.fillText(vanilla + "%", 130, 577.5)}
        if (strategist > 30) {ctx.fillText(strategist + "%", 130, 697.5)}
        if (tank       > 30) {ctx.fillText(tank + "%", 130, 817.5)}
        if (ethical    > 30) {ctx.fillText(ethical + "%", 130, 937.5)}
        ctx.textAlign="right"
        if (fighter    > 30) {ctx.fillText(fighter + "%", 670, 337.5)}
        if (soloist    > 30) {ctx.fillText(soloist + "%", 670, 457.5)}
        if (modding    > 30) {ctx.fillText(modding + "%", 670, 577.5)}
        if (impulse    > 30) {ctx.fillText(impulse + "%", 670, 697.5)}
	if (mobile     > 30) {ctx.fillText(mobile + "%", 670, 817.5)}
        if (unlawful   > 30) {ctx.fillText(unlawful + "%", 670, 937.5)}   
        
	    
        ctx.font="300 30px Montserrat"
        ctx.fillText("thirdeyeman369.github.io/Starblast-Values", 780, 140)
		ctx.fillText(version, 780, 190)
        ctx.textAlign="center"
        ctx.fillText("Gameplay Axis: " + document.getElementById("gapl-label").innerHTML, 400, 275)
        ctx.fillText("Player Type Axis: " + document.getElementById("plty-label").innerHTML, 400, 395)
        ctx.fillText("Modes Axis: " + document.getElementById("mode-label").innerHTML, 400, 515)
        ctx.fillText("Thought Process Axis: " + document.getElementById("thpr-label").innerHTML, 400, 635)
        ctx.fillText("Ship Type Axis: " + document.getElementById("shty-label").innerHTML, 400, 755)
        ctx.fillText("Ethics Axis: " + document.getElementById("ethi-label").innerHTML, 400, 875)

        
    }
    </script>
</body>
